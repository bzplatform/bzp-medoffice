<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <title>#{var.ChartLabel.report.list._ == null ? 'Year Color' : 'Print Labels'}</title>
      <style type="text/css">
         @media screen {
            .page {
               border: dotted black 1px;
               padding: 1em;
               margin: 1em;
            }

            .action {
               display: block !important;
               text-align: left;
               margin-left: 2em;
            }
         }
         @media all {
            body {
               font-family:Verdana, Geneva, sans-serif;
            }
            .action {
               display: none;
            }
            div.page {
               width: 50em;
            }
            form {
               margin: 0; padding: 0;
            }
         }
      </style>
      <script type="text/javascript" src="/#{access.application}/script/jquery/jquery-1.9.0.min.js"></script>
      <script type="text/javascript" src="/#{access.application}/script/printer.js"></script>
   </head>
   <body>
      <h:form prependId="false">
         <div class="action">
            <div class="action"><a href="#" id="print-link" onclick="return print('Portrait', 0)">PRINT</a>&nbsp;<a id="jsprint-install" href="https://addons.mozilla.org/en-US/firefox/addon/8966/" target="_blank" style="display: none; color: red;">Install plugin for printing...</a></div>
         </div>
         <div class="action" style="margin-bottom: 2mm;"><h:messages showDetail="#{true}" showSummary="#{false}" infoClass="info"/></div>
         <div class="page" style="margin-top: -2mm;">
            <ui:repeat value="#{var.ChartLabel.report.list._}" var="patient">
               <ui:fragment rendered="#{var.ChartLabel.report.selected._[patient]}">
                  <object type="image/svg+xml" data="../chart-label?id=#{patient.id}&amp;year=#{var.ChartLabel.report.year._}" style="width: 211.319mm; margin: 2mm 0 -2.5mm 0mm;"/>
               </ui:fragment>
            </ui:repeat>
            <ui:fragment rendered="#{var.ChartLabel.report.list._ == null}">
               <object type="image/svg+xml" data="../chart-label" style="width: 204mm; height:270mm; margin: 5mm 0 0mm 15mm;"/>
            </ui:fragment>
         </div>
      </h:form>
   </body>
</html>
